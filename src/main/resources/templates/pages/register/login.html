<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Buzz Book | Login</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.10/dist/full.min.css" rel="stylesheet" type="text/css"/>
  <style>
      .custom-hr {
          border: none;
          border-top: 1px solid #ccc;
          margin: 20px 0;
      }
      .fade-out {
          opacity: 0;
          transition: opacity 1s ease-out;
      }
      .fixed-top {
          position: fixed;
          top: 10px;
          left: 50%;
          transform: translateX(-50%);
          z-index: 50;
      }
  </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen">

<div
    class="p-6 w-full max-w-md min-h-screen md:min-h-0 flex flex-col justify-center">
  <div th:if="${error != null}" class="fixed-top mb-3">
    <div id="toast-danger"
         class="flex items-center w-full max-w-xs p-4 mb-4 text-gray-500 bg-white rounded-lg shadow dark:text-gray-400 dark:bg-gray-800"
         role="alert">
      <div
          class="inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-red-500 bg-red-100 rounded-lg dark:bg-red-800 dark:text-red-200">
        <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor"
             viewBox="0 0 20 20">
          <path
              d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 11.793a1 1 0 1 1-1.414 1.414L10 11.414l-2.293 2.293a1 1 0 0 1-1.414-1.414L8.586 10 6.293 7.707a1 1 0 0 1 1.414-1.414L10 8.586l2.293-2.293a1 1 0 0 1 1.414 1.414L11.414 10l2.293 2.293Z"/>
        </svg>
        <span class="sr-only">Error icon</span>
      </div>
      <div class="ms-3 text-sm font-normal" th:text="${error}"></div>
    </div>
  </div>
  <a href="/home">
    <img src="/static/buzz_bee_icon/android-chrome-192x192.png" alt="logo" class="w-20"/>
  </a>
  <div class="py-3">
    <h2>안녕하세요.</h2>
    <p>Buzz Book 입니다.</p>
  </div>
  <form th:action="@{/login}" method="post">
    
    <div class="flex flex-col gap-3">
      <label class="input input-bordered flex items-center gap-2">
        <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 16 16"
            fill="currentColor"
            class="h-4 w-4 opacity-70">
          <path
              d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM12.735 14c.618 0 1.093-.561.872-1.139a6.002 6.002 0 0 0-11.215 0c-.22.578.254 1.139.872 1.139h9.47Z"/>
        </svg>
        <input type="text" id="id" name="loginId" class="grow" placeholder="아이디를 입력해주세요."/>
      </label>
      <label class="input input-bordered flex items-center gap-2">
        <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 16 16"
            fill="currentColor"
            class="h-4 w-4 opacity-70">
          <path
              fill-rule="evenodd"
              d="M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z"
              clip-rule="evenodd"/>
        </svg>
        <input type="password" id="password" name="password" class="grow" placeholder="비밀번호를 입력해주세요."/>
      </label>
      <button type="submit"
              class="w-full bg-[#81c408] text-white py-2 rounded-md hover:bg-[#6ba007] transition duration-300">로그인
      </button>
    </div>
  
  </form>
  <div class="text-center mt-4 flex justify-between">
    <a href="#" class="text-[#81c408] hover:underline">비밀번호를 잊으셨나요?</a>
    <a href="/signup" class="text-[#81c408] hover:underline">처음이신가요?</a>
  </div>
  <hr class="custom-hr"/>
  <div>
    <p class="text-gray-400 mb-2">SNS 계정 로그인</p>
    <a class="btn bg-white w-full flex justify-center items-center border border-gray-300 rounded-md p-4" href="/oauth2/payco">
      <img src="/static/icons/logo_renew.png" alt="logo" style="height: 18px;"/>
      <span class="text-gray-700 ml-1" style="font-size: 18px; line-height: 18px;">로 로그인</span>
    </a>
  </div>


</div>

<script>
    // 에러 메시지 자동으로 숨기기
    document.addEventListener('DOMContentLoaded', () => {
        const toastDanger = document.getElementById('toast-danger');
        if (toastDanger) {
            setTimeout(() => {
                toastDanger.classList.add('fade-out');
                setTimeout(() => {
                    toastDanger.style.display = 'none';
                }, 1000);
            }, 3000);
        }
    });
</script>

</body>
</html>
